/*
 EngagementTracker.v13.js, version 2.1.75170

 Copyright Adform
 http://www.adform.com

 Date: 2013-10-31
*/
(function(a,f,k){function l(c,b){c.super_=b;h.prototype=b.prototype;c.prototype=new h;c.prototype.constructor=c}function h(){}function n(c,b){for(var i in b)b.hasOwnProperty(i)&&(c[i]=b[i]);return c}function e(c,b){return(b=b||k)&&b.getElementById&&b.getElementById(c)}function z(c,b){var i=!b?k:c.substr?e(c):c;return i?i.getElementsByTagName(b||c):[]}function r(c,b){return~(" "+c.className+" ").indexOf(" "+b+" ")}function q(c,b){r(c,b)&&(c.className=(" "+c.className+" ").replace(" "+b+" "," ").slice(1,
-1),q(c,b))}function j(c){var b=c.offsetTop,i=c.offsetLeft,g,m=d.curCSS,a="static"!=m(c,"position");b||(b=(parseFloat(m(c,"marginTop"))||0)+(a?parseFloat(m(c,"top"))||0:0));i||(i=(parseFloat(m(c,"marginLeft"))||0)+(a?parseFloat(m(c,"left"))||0:0));a&&c.getBoundingClientRect&&(g=d.offset(c,!0));!b&&g&&(b=g.top);!i&&g&&(i=g.left);return{top:b,left:i}}function o(c){var b={relativeX:c[D[0]],relativeY:c[D[1]]};if(null==c.pageX&&null!=c.clientX){var i=k.documentElement,g=k.body;b.pageX=c.clientX+(i&&i.scrollLeft||
g.scrollLeft||0);b.pageY=c.clientY+(i&&i.scrollTop||g.scrollTop||0)}else b.pageX=c.pageX,b.pageY=c.pageY;return b}function u(c,b){if(!(c=c.parentNode))return!1;var i=c.ownerDocument,g=i.body,m=d.curCSS,a;b&&(b+=1);if(f.$sf)return!0;if(d.isIE&&(8>i.documentMode||"BackCompat"==i.compatMode))return!1;for(;c&&c!=g;){if("hidden"==m(c,"overflow"))return!1;if("fixed"==m(c,"position"))break;else if(b&&(a=parseInt(m(c,"z-index"),10))&&a<b)return!1;c=c.parentNode}return!0}function s(){for(var c=0,b=[];c<E.length;c++)"complete"!=
E[c].document.readyState&&b.push(E[c]);if(!(E=b).length||3E4<(new Date).getTime()-O){G=clearInterval(G);for(c=0;c<I.length;c++)I[c]();I=[];E=[]}}function v(c,b){var i=c.x+c.width,g=c.y+c.height,d=b.x+b.width,m=b.y+b.height,a=Math.max(c.x,b.x),j=Math.max(c.y,b.y),i=Math.min(i,d)-a,g=Math.min(g,m)-j;return 0<i&&0<g?{x:a,y:j,width:i,height:g}:{x:0,y:0,width:0,height:0}}function x(c,b,i,g){var m=function(c){g&&g.apply(c,arguments)},a=z(i,"head"),a=a&&a[0];if(!a)try{throw Error("Can't find head tag.");
}catch(j){m(j)}var q=b.src||b.href,B=q.replace(/[^\da-z_-]/gi,"_"),p=i.adformId||d.gid("doc_"),t=p+"|"+B,h=M[t],B=d.byTag(i,c),o=0,e=B.length;i.adformId=i.adformId||p;if(h)h.loaded?m():h.callbacks.push(m);else{for(;o<e;++o)if(B[o].src==q||B[o].href==q){m();return}M[t]=h={doc:i,src:q,callbacks:[m]};var A=i.createElement(c);n(A,b);if(g){A.onload=function(){l()};A.onreadystatechange=function(){"complete"==A.readyState&&l()};A.onerror=function(){try{throw Error("Failed to load script: "+q);}catch(c){l(c)}};
var l=function(c){A.onload=A.onreadystatechange=A.onerror=null;c?M[t]=null:h.loaded=1;var b=h.callbacks;o=0;for(e=b.length;o<e;++o)b[o](c)}}setTimeout(function(){a.insertBefore(A,a.firstChild)},400)}}a.Log||(a.Log={});a.Log.pushMessage||(a.Log.pushMessage=function(){});a.Log.sendMessage||(a.Log.sendMessage=function(){});a.RMB=a.RMB||{};var p=a.RMB,d=p.lib||(p.lib={});a.lib||(a.lib=d);d.inherit=l;d.define=function(c,b,i){i&&l(c,b);i(c,c.prototype)};d.gid=function(c){var b=+new Date;return(c||"")+(b+
b*~~(Math.random()*1E4)).toString(36)};d.byId=e;d.byTag=z;d.bind=function(c,b){return function(){return b.apply(c,arguments)}};d.extend=n;d.isMouseLeave=function(c,b){if(!c||c.type!="mouseout")return true;for(var i=c.relatedTarget||c.toElement,g,d=b.length;i;){for(g=0;g<d;g++)if(b[g]==i)return false;i=i.parentNode}return true};d.singleCall=function(c){function b(){m=false;var c=g,a=i,j=d;i=g=d=null;c&&c.apply(a,j)}var i,g,d,m;return function(a,j){i=a;g=j;d=w.call(arguments,2);if(j&&!m)m=setTimeout(b,
c);else if(!j&&m){clearTimeout(m);m=false}}};d.onload=function(c,b){try{do{if(c[P])break;c[P]=true;if(c.document.readyState!="complete"){E.push(c);if(!G){O=(new Date).getTime();G=setInterval(s,200)}}}while(c!=c.parent&&(c=c.parent))}catch(i){}G?I.push(b):setTimeout(b,0)};d.overlap=v;d.overlapElem=function(c,b){var i=d.offset(c),g=d.offset(b);return v({x:i.left,y:i.top,width:c.offsetWidth,height:c.offsetHeight},{x:g.left,y:g.top,width:b.offsetWidth,height:b.offsetHeight})};d.hasClass=r;d.addClass=
function(c,b){if(!r(c,b))c.className=c.className+(" "+b)};d.removeClass=q;d.loadScript=function(c,b,i){x("script",{src:b,type:"text/javascript"},c,i)};d.loadCSS=function(c,b){x("link",{href:b,type:"text/css",rel:"stylesheet"},c)};d.navigator=f.navigator;d.isTMX=function(c){try{var b=c.document,i=b&&b.body;return i&&r(i,"tmx")}catch(g){}return false};d.isolate=function(c,b){var i=c.__adform_isolate;if(!i){var g=c.document,i=z(g,"head")[0],g=g.createElement("script");g.type="text/javascript";g.text=
'function __adform_isolate(f){new Function("window","("+f+")(window)")(window)}';i.insertBefore(g,i.firstChild);i.removeChild(g);i=c.__adform_isolate}i?i(b):(new Function("window","("+b+")(window)"))(c)};var w=Array.prototype.slice;d.addEvent=function(c,g,d){return c[b]?c[b](g,d,false):c[i]?c[i]("on"+g,d):false};d.removeEvent=function(b,i,d){return b[c]?b[c](i,d,false):b[g]?b[g]("on"+i,d):false};var b="addEventListener",c="removeEventListener",i="attachEvent",g="detachEvent",m=/([A-Z])/g,t=/^-?\d+(?:px)?$/i,
y=/^-?\d/,a=k.defaultView;d.curCSS=a&&a.getComputedStyle?function(c,b){var i=c.ownerDocument.defaultView;if(i&&(i=i.getComputedStyle(c,null)))return i.getPropertyValue(b.replace(m,"-$1").toLowerCase())||c.style[b]}:k.documentElement.currentStyle&&function(c,b){var i,g,d,m=c.currentStyle&&c.currentStyle[b];if(!t.test(m)&&y.test(m)){i=(d=c.style).left;if(g=c.runtimeStyle&&c.runtimeStyle.left)c.runtimeStyle.left=c.currentStyle.left;d.left=b==="fontSize"?"1em":m||0;m=d.pixelLeft+"px";d.left=i;if(g)c.runtimeStyle.left=
g}return m===""?"auto":m};var C=function(){function c(){return c}var b=k.body,i=k.createElement("div"),g;g=["position:absolute;top:0;left:0;margin:0;padding:0;border:0;width:1px;height:1px;"].pop();i.innerHTML='<div style="'+g+'visibility:hidden"><div style="'+g+'border:5px solid #000"><div style="margin:0"></div></div><div style="'+g+'"><div style="'+g+'position:fixed;top:20px;"></div></div><div style="'+g+'position:relative;border:5px solid #000;overflow:hidden"><div style="margin:0"></div></div><table style="'+
g+'border:5px solid #000" cellpadding="0" cellspacing="0"><tr><td></td></tr></table></div>';b.insertBefore(i=i.firstChild,b.firstChild);g=i.childNodes;c.dnab=g[0].firstChild.offsetTop!==5;c.sfp=g[1].firstChild.offsetTop===20;c.sbfonv=g[2].firstChild.offsetTop===-5;c.dabftac=z(i,"td").offsetTop===5;b.removeChild(i);b=i=g=null;return C=c},A=/^t(?:able|d|h)$/i;d.offsetFromWindow=function(c){var b,i,g,m;i=c&&c.ownerDocument;if(!i)return null;g=i.documentElement;if("getBoundingClientRect"in g){try{b=c.getBoundingClientRect();
m=g.getBoundingClientRect()}catch(a){}if(!b)return{top:0,left:0};if(m.left>0||m.top>0){b.top=b.top-m.top;b.left=b.left-m.left}return{top:b.top,left:b.left}}b=i.defaultView||i.parentWindow;m=i.body;if(c===i.body)return j(c);c=d.offset(c);i=b&&b.pageYOffset||g.scrollTop||m.scrollTop;g=b&&b.pageXOffset||g.scrollLeft||m.scrollLeft;c.top=c.top-i;c.left=c.left-g;return c};d.offset="getBoundingClientRect"in k.documentElement?function(c,b){var i,g=c&&c.ownerDocument;if(!g)return null;if(!b&&c===g.body)return j(c);
try{i=c.getBoundingClientRect()}catch(m){}if(!i)return{top:0,left:0};var d=g.body,a=g.documentElement,g=g.defaultView||g.parentWindow;return{top:i.top+(g&&g.pageYOffset||a.scrollTop||d.scrollTop)-(a.clientTop||d.clientTop||0),left:i.left+(g&&g.pageXOffset||a.scrollLeft||d.scrollLeft)-(a.clientLeft||d.clientLeft||0)}}:function(c){var b=c&&c.ownerDocument;if(!b)return null;if(c===b.body)return j(c);var i,g=c.offsetParent,d=b.documentElement,m=b.body;i=(b=b.defaultView)?b.getComputedStyle(c,null):c.currentStyle;
for(var a=c.offsetTop,q=c.offsetLeft,B=C();(c=c.parentNode)&&c!==m&&c!==d;){if(B.sfp&&i.position==="fixed")break;i=b?b.getComputedStyle(c,null):c.currentStyle;a=a-c.scrollTop;q=q-c.scrollLeft;if(c===g){a=a+c.offsetTop;q=q+c.offsetLeft;if(B.dnab&&(!B.dabftac||!A.test(c.nodeName))){a=a+(parseFloat(i.borderTopWidth)||0);q=q+(parseFloat(i.borderLeftWidth)||0)}g=c.offsetParent}if(B.sbfonv&&i.overflow!=="visible"){a=a+(parseFloat(i.borderTopWidth)||0);q=q+(parseFloat(i.borderLeftWidth)||0)}}if(i.position===
"relative"||i.position==="static"){a=a+m.offsetTop;q=q+m.offsetLeft}if(B.sfp&&i.position==="fixed"){a=a+Math.max(d.scrollTop,m.scrollTop);q=q+Math.max(d.scrollLeft,m.scrollLeft)}return{top:a,left:q}};d.isArray=Array.isArray||function(c){return Object.prototype.toString.call(c)=="[object Array]"};var D=[["offsetX","offsetY"],["layerX","layerY"]];d.getMousePos=function(c){for(var b;b=D.shift();)if(typeof c[b[0]]!="undefined"){D=b;break}b||(D=["x","y"]);d.getMousePos=o;return o(c)};var Q=k.createElement("div");
d.html=function(c,b){var i=!b&&Q||b.createElement("div");i.innerHTML=c;return i.firstChild&&i.removeChild(i.firstChild)};var a=d.navigator,B=a.vendor,a=a.userAgent,J=/Apple Computer/i.test(B),p=/Google/i.test(B),N=d.isIPad=/iPad/i.test(a),K=d.isIPhone=/iPhone/i.test(a),F=d.isIOS=N||K,L=d.isTouch="ontouchstart"in k.documentElement||"ontouchstart"in f,N=d.isOrientation="orientation"in f,K=d.isAndroid=!F&&(/Android/i.test(a)||L&&!/series60|symbian|windows ce|blackberry/i.test(a));d.isAndroidApp=K&&!/^(?:Opera|Mozilla)/i.test(a);
var H;d.isIOSF=F&&(H=/\sos\s(\d+)_\d+/i.exec(a))&&(H=4<H[1]>>0);d.isMobile=/Mobile|Mobi|Tablet|Nokia/i.test(a)||L;H=d.isIE=/msie|Trident/i.test(a);L=d.isFF=/Firefox[\/.]+[^\s]/i.test(a);d.isMACOS=/Mac OS X/i.test(a);var R=d.isOpera=/Opera/i.test(a),S=d.isOperaMobile=/Opera\s(?!Mini)/i.test(a),T=d.isOperaMini=/Opera\sMini/i.test(a),B=d.isOperaWebKit=/OPR/i.test(a)&&/Opera Software/i.test(B),F=d.isChrome=/(Chrome|CriOS)+\/[\d\.]+\s/i.test(a)&&(F?J:p),J=d.isSafari=!/Chrome|CriOS|Skyfire/i.test(a)&&/Safari+\/[\.\d]+$/i.test(a)&&
J,p=d.isInternet=K&&!F&&N&&/Safari\/[\.\d]+$/i.test(a)&&p;d.isAfmaSDK=/afma-sdk/i.test(a);var U=H?"msie":L?"firefox":S?"operaMobile":T?"operaMini":R?"opera":B?"operaWebKit":F?"chrome":J?"safari":p?"internet":!1;d.browser=function(){return U};if(d.isIE&&("Microsoft Internet Explorer"==d.navigator.appName&&/MSIE (\d+[\.\d]*)/i.exec(a)||/rv:(\d+[\.\d]*)/i.exec(a)))d.ieVersion=parseFloat(RegExp.$1);d.testPlace=d.isIE&&8>d.ieVersion?function(){return false}:u;var E=[],I=[],P="__adform_onload",G,O,M={}})(Adform=
window.Adform||{},window,document);
(function(a){function f(){}a.RMB=a.RMB||{};a.RMB.EventEmitter=f;var k=Array.prototype.slice,a=f.prototype;a.emit=function(a){var h=this._events,n=!1,e=arguments;if(h&&(h=h[a]))if("function"==typeof h){switch(e.length){case 1:h.call(this);break;case 2:h.call(this,e[1]);break;case 3:h.call(this,e[1],e[2]);break;case 4:h.call(this,e[1],e[2],e[3]);break;default:h.apply(this,k.call(e,1))}n=!0}else if(h.length){for(var e=k.call(e,1),h=h.slice(),n=0,f=h.length;n<f;n++)h[n].apply(this,e);n=!0}else delete this._events[a];
return n};a.on=function(a,h){this._events||(this._events={});this.emit("newListener",a,h);var n=this._events;n[a]?"function"==typeof n[a]?n[a]=[n[a],h]:n[a].push(h):n[a]=h;return this};a.once=function(a,h){var n=h._once;n?n._times++:(n=h._once=function(){this.off(a,n);1>--n._times&&delete h._once;return h.apply(this,arguments)},n._times=1);return this.on(a,n)};a.off=function(a,h){if(!this._events||!this._events[a])return this;var n=this._events,e=n[a];if(e==h)return delete n[a],this;h&&h._once&&this.off(h._once);
if("function"==typeof e)return this;if(2>e.length&&e[0]==h)return delete n[a],this;for(var f=0,r=e.length,q=[];f<r;f++)e[f]!=h&&q.push(e[f]);q.length!=r&&(q.length?n[a]=q:delete n[a]);return this};a.clear=function(a){a?this._events&&this._events[a]&&delete this._events[a]:delete this._events;return this};a.list=function(a){this._events||(this._events={});var h=this._events;h[a]?"function"==typeof h[a]&&(h[a]=[h[a]]):h[a]=[];return h[a]}})(Adform=window.Adform||{});
(function(a){function f(a){e.push(this);this._doc=a;this._events={};this.dispatchHover=n.bind(this,k)}function k(){for(var a=f._hoverTarget,j=[],o=f._hoverChain,h=r+"hover-",n;a&&"undefined"!=(n=typeof a.className);)"string"==n&&0<=a.className.indexOf(h)&&j.unshift(a),a=a.parentNode;var e=Math.max(j.length,o.length),a=RegExp(h+"\\S+","g");n=[];for(e-=1;0<=e&&o[e]!=j[e];e--){if(o[e])for(var k=l(o[e].className,h,a),p=0;p<k.length;p++)k[p].call(o[e],"hoverout",o[e]);if(j[e]){k=l(j[e].className,h,a);
for(p=0;p<k.length;p++)n.push([k[p],j[e]])}}if(n.length)for(e=0;e<n.length;e++)n[e][0].call(n[e][1],"hoverin",n[e][1]);f._hoverChain=j}function l(a,j,e){a=a.match(e);e=[];if(a){a=("x|"+a.join("|")).split("|"+j).slice(1);for(j=0;j<a.length;j++)z[a[j]]&&e.push(z[a[j]])}return e}function h(a){for(var j=0;j<e.length;j++)if(e[j]._doc==a)return e[j]}a.RMB=a.RMB||{};var a=a.RMB,n=a.lib;a.DOMEvents=f;var e=[],z={},r="adform-domevents-";f.destroy=function(a){var j;if(a)(j=h(a))&&j.destroy();else for(;e.length;)e[0].destroy()};
f.on=function(a,j,e){var h=a.ownerDocument;(f.find(h)||new f(h)).on(a,j,e);return this};f.off=function(a,j,e){var h=f.find(a.ownerDocument);h&&h.off(a,j,e);return this};f.find=h;f.dispatchHover=k;f.dispatchClick=function(a,j){for(var e=r+"click-",h=[],n;a&&"undefined"!=(n=typeof a.className);)"string"==n&&0<=a.className.indexOf(e)&&h.unshift(a),a=a.parentNode;n=RegExp(e+"\\S+","g");for(var f=h.length-1;0<=f;f--)for(var k=l(h[f].className,e,n),p=0;p<k.length;p++)k[p].call(h[f],"click",h[f],j)};f._hoverChain=
[];f._hoverTarget=null;a=f.prototype;a.on=function(a,j,e){var h=e._adform_dom_key;h||(h=e._adform_dom_key=n.gid());h in z||(z[h]=e);e=r+j+"-"+h;0>a.className.indexOf(e)&&(a.className+=" "+e,this.setup(j))};a.off=function(a,e,h){if(h=h._adform_dom_key)a.className=a.className.replace(r+e+"-"+h,"")};a.destroy=function(){var a=this._events,h,o,k,r=this._doc;for(h in a)for(o in k=a[h],k)n.removeEvent(r,o,k[o]);for(a=e.length;0<a--;)if(e[a]==this){e.splice(a,1);break}a=f._hoverChain;a[0]&&a[0].ownerDocument==
r&&(f._hoverChain=[],f._hoverTarget=null);this._doc=this._events=null};a.setup=function(a){if(!this._events[a]){this._events[a]={};var e=this._doc,h=e.defaultView||e.parentWindow;if("hover"==a){if(e.addEventListener)var k=function(a){f._hoverTarget!=a.target&&(f._hoverTarget=a.target,f.dispatchHover())},r=function(a){f._hoverTarget!=a.relatedTarget&&(f._hoverTarget=a.relatedTarget,f.dispatchHover())};else k=function(){h=e.defaultView||e.parentWindow;f._hoverTarget!=h.event.srcElement&&(f._hoverTarget=
h.event.srcElement,f.dispatchHover())},r=function(){h=e.defaultView||e.parentWindow;f._hoverTarget!=h.event.toElement&&(f._hoverTarget=h.event.toElement,f.dispatchHover())};n.addEvent(e,"mouseover",this._events[a].mouseover=k);n.addEvent(e,"mouseout",this._events[a].mouseout=r);n.addEvent(e,"mousemove",this._events[a].mousemove=k);f._hoverChain=[]}else"click"==a&&(k=e.addEventListener?function(a){f.dispatchClick(a.target,a)}:function(a){h=e.defaultView||e.parentWindow;a=h.event;f.dispatchClick(a.srcElement,
a)},n.addEvent(e,"mousedown",this._events[a].mousedown=k))}}})(Adform=window.Adform||{},window,document);
(function(a,f){var k=a.ET=a.ET||{};if(!k.ActiveTab){var l=a.RMB,h=l&&l.lib||a.lib,n=Date.now||function(){return(new Date).getTime()},e=new l.EventEmitter;k.ActiveTab=e;e.init=function(f){function k(){var c,b=h.removeEvent;s=!0;l.clear();t&&(c=f.top.document,b(f.top,"scroll",t),b(c,"mousemove",t),b(c,"keydown",t),b(c,"mousedown",t),b(c,"mouseup",t),t=null)}function q(){var b=c&&i,a;a=n();var e=a-g;p?c=!x[p]:d?(g=a,e>y&&l.emit(l.IDLE,e)):v&&(c=e<C);m&&(i=a-m<A);a=c&&i;b!=a&&l.emit(l.VISIBLE,a);return a}
function j(){s||(g=n(),v(j))}function o(c){m=n();t=function(b){var b=b||c.event,i=!(b&&"mousemove"==b.type),d=a,e=g;i||(a=b.screenX,g=b.screenY,i=a!=d||g!=e);i&&(m=n())};var b=c.document,i=h.addEvent,a,g;setTimeout(function(){i(c.top,"scroll",t);i(b,"mousemove",t);i(b,"keydown",t);i(b,"mousedown",t);i(b,"mouseup",t)},100)}var l=e;l.isActive=q;l.update=q;l.destroy=k;var s;k();s=!1;for(var v=f.webkitRequestAnimationFrame,x=f.document,p,d=h.isIOS,w=["hidden","mozHidden","msHidden","webkitHidden"],b=
w.length;b--;)if(w[b]in x){p=w[b];break}var c=!0,i=!0,g=n(),m,t,y=1E3,C=250,A=3E4;!p&&!d&&v&&v(j);if(!h.isTouch&&!a.ADFIframe)try{f.top.document.getElementById,o(f.top)}catch(D){}};e.IDLE="idle";e.VISIBLE="visible";e.init(f)}})(Adform=window.Adform||{},window,document);
(function(a){function f(a){this._delay=a||0;this._diff=this._start=this._count=this._partial=0;this.active=!1;this.count=this.time=0;this._list=[]}function k(){this.exposure=this._exp=this._exposure=this._mod=0;k.super_.apply(this,arguments)}var l=a.ET=a.ET||{};if(!l.Timer){var a=(a=a.RMB)&&a.lib,h=Date.now||function(){return(new Date).getTime()};l.Timer=f;l.ExposureTimer=k;f.calculateEngagement=function(){for(var a=arguments,e=[],f=h(),k=0;k<a.length;k++)for(var l=a[k]._list,j=0;j<l.length;j+=2)e.push([l[j],
l[j+1]||f]);e.sort(function(a,e){return a[0]-e[0]});a=0;if(e.length){f=[[e[0][0],e[0][1]]];k=1;j=0;for(l=e.length;k<l;k++)f[j][1]<e[k][0]?f[++j]=[e[k][0],e[k][1]]:f[j][1]<e[k][1]&&(f[j][1]=e[k][1]);k=0;for(l=f.length;k<l;k++)a+=f[k][1]-f[k][0]}return a};l=f.prototype;l.update=function(){this.active=!1;this._diff=0;var a=this._list,e=this._start,f=this._paused,k=a.length%2;if(e){var l=(f||h())-e;l>=this._delay&&(this.active=!f,this.count=this._count+1,this.time=this._partial+l,this._diff=l,!k&&!f&&
a.push(e))}k&&(!e||f)&&a.push(h());return this};l.start=function(){this._start||(this._start=h(),this.update());return this};l.stop=function(){this._start&&(this.update(),this._count=this.count,this._partial=this.time,this._start=0,this.update());return this};l.paused=function(a){a&&!this._paused?(this._paused=h(),this.update()):!a&&this._paused&&(this.update(),this._paused=0,this._partial=this.time,this._start&&(this._start=h()),this.update());return this};a.inherit(k,f);l=k.prototype;l._update=
l.update;l.update=function(){this._update();this._exp=this._exposure+this._mod*this._diff;this.exposure=Math.round(this._exp);return this};l._stop=l.stop;l.stop=function(){this._start&&(this.update(),this._exposure=this._exp);return this._stop()};l.modifier=function(a){a!=this._mod&&this.active&&(this.stop(),this._mod=a,this.start());this._mod=a}}})(Adform=window.Adform||{},window,document);
(function(a){function f(a){this.minPercent=a;var f=this.visibility=new h;this.mouse=(new h(1E3)).paused(!0);this.video=new h;this.expand=new h;var k=this.exposure=new n;l.on(l.IDLE,function(a){0<f._start&&(f._start+=a);0<k._start&&(k._start+=a)})}function k(a){var h=this.exposure,f=this.mouse,k=this.visibility,j=k.active;a&&!j?(h.start(),k.start(),f.paused(!1)):!a&&j&&(h.stop(),k.stop(),f.paused(!0))}a=a.ET=a.ET||{};if(!a.Counter){var l=a.ActiveTab,h=a.Timer,n=a.ExposureTimer;a.Counter=f;a=f.prototype;
a.update=function(a,h,f){a=this.visiblePercent=Math.round(100*h/a);this.exposure.modifier(h/f||0);k.call(this,a>=this.minPercent)};a.action=function(a){if("stop"===a)return k.call(this,!1);if((a={over:1,out:2,expand:3,collapse:4,videoPlay:5,videoStop:6}[a])&&a--)[this.mouse,this.expand,this.video][a>>1][a%2?"stop":"start"]()}}})(Adform=window.Adform||{},window,document);
(function(a){function f(h,f){function e(){w.length=2}function l(c,b,a){q(c,b,"check",a)}function r(c,b,a,i){q(c,b,"change",i,a)}function q(c,b,a,i,g){if(x&&x[a])if(j(c,b),w[0]=c,w[1]=b,w[2]=i,"undefined"!=typeof g)x[a](g);else x[a]();else setTimeout(function(){q(c,b,a,i,g)},100)}function j(c,b){C.x=c;C.y=b;m.left=c+"px";m.top=b+"px";m.width=m.height=0;g.offsetWidth;m.width=u+"px";m.height=s+"px";g.offsetWidth}function o(c){t?c&&c(!d):c&&(y=c);return this}var u=f.width||1,s=f.height||1,v=f.debug||
0,x,p=("flash_"+(Date.now()+Math.random())).replace(".","_"),d=!1,w=[],b=a.scriptBase+"assets/flash/fr.swf?fd912ae6cb044f3c4918b7540d81e2a1",c=h.document,i=f.container||c.body,g=c.createElement("div"),m=g.style;m.position="fixed";m.zIndex=1E4;m.width=u+"px";m.height=s+"px";k.isIE||(m.visibility="hidden");i.appendChild(g);var t=!1,y,C={move:j,init:o,destroy:function(){g.innerHTML="";g.parentNode.removeChild(g);w.length=0;h[A]=g=m=null}},A=p+"demand";h[A]=function(c){var b=w[0],a=w[1],i=w[2];e();i&&i(b,a,c)};var v=
{debug:v,callback:A,changeInterval:100,limit:2},p=[],D;for(D in v)v.hasOwnProperty(D)&&p.push(D+"="+v[D]);g.innerHTML='<object type="application/x-shockwave-flash" data="'+b+'" width="'+u+'" height="'+s+'" style="position:absolute;top:0;left:0;width:100%;height:100%"><param name="movie" value="'+b+'"><param name="allowscriptaccess" value="always"><param name="wmode" value="transparent"><param name="flashvars" value="'+p.join("&")+'"></object>';x=g.firstChild;l(-1E4,-1E4,function(c,b,a){C.check=l;
C.reset=e;C.change=r;d=a;t=true;o(y)});return C}var k=a.lib,l=a.ET=a.ET||{};l.flashVisibilityOverlay||(l.flashVisibilityOverlay=function(h){function k(){return p}function e(){var a=h.innerWidth,g=h.innerHeight;if(c!==a||i!==g)c=a,i=g,t=[[0,0],[c-b,i-b],[c-b,0],[0,i-b],[(c-b)/2,(i-b)/2]]}function l(){--C||r(q)()}function r(c){e();for(var b=y.length;b--;)y[b].reset();return c}function q(){for(var c=t.length,b=c;c--;)(function(c,a){a[2]=!1;y[c].check(a[0],a[1],function(c,i,g){a[2]=g;(!--b||!g)&&r(j)()})})(c,
t[c])}function j(){var b=t[0][2];if(t[1][2]&&b)p={x:0,y:0,width:c,height:i},r(o)();else{for(var b=t.length,a=[];b--;)t[b][2]&&a.push(t[b]);a.length?r(s)(a):(p={x:0,y:0,width:0,height:0},r(o)())}}function o(){var a=[];if(p.width&&p.height){var g=p.x,d=p.y,m=p.x+p.width,h=p.y+p.height;a.push([g,d,!0]);a.push([m-b,h-b,!0]);0<g&&a.push([g-b,d,!1]);0<d&&a.push([g,d-b,!1]);m<c&&a.push([m,h-b,!1]);h<i&&a.push([m-b,h,!1])}else for(g=t.length;g--;)a[g]=[t[g][0],t[1],!1];for(g=a.length;g--;)y[g].change(a[g][0],
a[g][1],!a[g][2],u)}function u(){r(q)()}function s(c){g=m=null;for(var b=c.length,a;0<b--;)a=c[b],x(a[0],a[1],!0);v()}function v(){function c(b,a,i){x(b,a,i);--p||v()}var b=g.minX,a=g.minY,i=g.maxX,d=g.maxY,h=b-m.minX,e=a-m.minY,f=m.maxX-i,k=m.maxY-d,j=Math.max(h+f,e+k),p=Math.round(Math.min(y.length,j));if(1>=j)g=m=null,r(o)();else{var t=j===h+f,l=[];t?k=f:h=e;j=Math.round(p*h/j);f=p-j;h/=j+1;k/=f+1;e=Math.floor((t?a+d:b+i)/2);if(t){for(;j--;)l.push([Math.floor(b-h*(j+1)),e]);for(;f--;)l.push([Math.floor(i+
k*(f+1)),e])}else{for(;j--;)l.push([e,Math.floor(a-h*(j+1))]);for(;f--;)l.push([e,Math.floor(d+k*(f+1))])}for(b=l.length;b--;)y[b].check(l[b][0],l[b][1],c)}}function x(a,d,h){var e=g,f=m;g||(e=g={minX:a,minY:d,maxX:a+b,maxY:d+b},f=m={minX:0,minY:0,maxX:c,maxY:i});if(h)e.minX=Math.min(e.minX,a),e.minY=Math.min(e.minY,d),e.maxX=Math.max(e.maxX,a+b),e.maxY=Math.max(e.maxY,d+b);else if(a<e.minX&&(f.minX=Math.max(f.minX,a+b)),d<e.minY&&(f.minY=Math.max(f.minY,d+b)),a>e.maxX&&(f.maxX=Math.min(f.maxX,a)),
d>e.maxY)f.maxY=Math.min(f.maxY,d);0.2>((f.maxX-f.minX)*(f.maxY-f.minY)-(e.maxX-e.minX)*(e.maxY-e.minY))/(c*i)&&(a=Math.floor((e.minX+f.minX)/2),d=Math.floor((e.minY+f.minY)/2),p={x:a,y:d,width:Math.floor((e.maxX+f.maxX)/2)-a,height:Math.floor((e.maxY+f.maxY)/2)-d})}if(h.__flash_visibility)return h.__flash_visibility(h);var p;k.destroy=function(){for(var c=y.length;c--;)y[c].destroy();y=[];h.__flash_visibility=null};for(var d=0,w=h;w.parent!=w;)d++,w=w.parent;h.__flash_visibility=k;if(10.3>a.ADFUtilInstance.getFlashVersion())return p=
!1;for(var b=1,c,i,g,m,t,y=[],C=d=6;d--;)y[d]=f(h,{width:b,height:b,debug:0}).init(l);e()},l.FlashMonitor=f)})(Adform=window.Adform||{},window,document);
(function(a,f){var k,l,h,n;function e(a){var d=a.ownerDocument,e=d.defaultView||d.parentWindow,b=d.documentElement,d=d.body,c=o.offset(a),i=0,g=0;e.innerWidth?(i=e.innerWidth,g=e.innerHeight):b?(!b.clientWidth||d.clientHeight!=d.offsetHeight?(i=Math.min(b.clientWidth||123456789,d.clientWidth||123456789),g=Math.min(b.clientHeight||123456789,d.clientHeight||123456789)):(i=b.clientWidth,g=b.clientHeight),123456789==i&&(i=0),123456789==g&&(g=0)):(i=d.clientWidth||0,g=d.clientHeight||0);return{element:{x:c.left,
y:c.top,width:a.offsetWidth,height:a.offsetHeight},client:{x:b&&b.scrollLeft||d.scrollLeft||0,y:b&&b.scrollTop||d.scrollTop||0,width:i,height:g}}}function z(a){for(var d=a.length,e=a[d-1],b=0,c=0,i=e.width,g=e.height;0<d--;)e=a[d],b=Math.max(0,b),c=Math.max(0,c),i=Math.min(e.width,i),g=Math.min(e.height,g),b+=e.x,c+=e.y,i+=e.x,g+=e.y;return b<i&&c<g&&{x:b,y:c,width:i-b,height:g-c}||{x:0,y:0,width:0,height:0}}function r(){var a,d,e,b,c,i,g,m;if((a=f.$sf)&&(a=a.ext)&&(a=a.geom()))return d=a.self,e=
a.par,a=+d.t,b=+d.r,c=+d.b,d=+d.l,i=+e.t,g=+e.r,m=+e.b,e=+e.l,e=Math.max(d,e),i=Math.max(a,i),b=Math.min(b,g),c=Math.min(c,m),{x:e-d,y:i-a,width:b-e,height:c-i}}function q(a){var d,e=a.document,b,c=a.screen,i=c.availLeft||c.left||0,g=c.availTop||c.top||0,m=c.availWidth,c=c.availHeight,f=i+m,j=g+c;l=Math.min(l,i);k=Math.max(k,f);n=Math.min(n,g);h=Math.max(h,j);"mozInnerScreenX"in a?b=[a.mozInnerScreenX,a.mozInnerScreenY]:a.document.fireEvent?(d=o.byId("adform-inscreen-detector",e),d||(d=e.createElement("div"),
d.id="adform-inscreen-detector",d.style.position="absolute",d.style.top="-9999px",e.body.insertBefore(d,e.body.firstChild)),d.attachEvent("onmouseleave",function(c){c=c||a.event;c.cancelBubble=true;d.detachEvent("onmouseleave",arguments.callee);l=Math.min(l,c.screenX);k=Math.max(k,c.screenX);n=Math.min(n,c.screenY);h=Math.max(h,c.screenY);b=[c.screenX-c.clientX,c.screenY-c.clientY]}),d.fireEvent("onmouseleave")):"screenX"in a&&a===a.top&&(b=[a.screenX,a.screenY]);"screenX"in a&&"outerWidth"in a&&
(e=a.screenX,i=a.screenY,g=e+a.outerWidth,f=i+a.outerHeight,l>=g-8&&(l=Math.floor(e/m)*m),k<=e+8&&(k=Math.ceil(g/m)*m),n>=f-8&&(n=Math.floor(i/c)*c),h<=i+8&&(h=Math.ceil(f/c)*c));return b}var j=a.ET=a.ET||{};if(!j.ViewUtil){var o=a.RMB.lib,u=j.flashVisibilityOverlay,s=j.ActiveTab,v=o.isSafari&&!("webkitRequestAnimationFrame"in f);l=0;k=screen.availWidth;n=0;h=screen.availHeight;j.ViewUtil={inView:function(a){var d,f,b,c;for(c=[];a;){f=e(a);d=f.element;f=f.client;b||(b=d,b.area=b.width*b.height,b.visible=
!0);if(!d.height||"hidden"==o.curCSS(a,"visibility"))return b.visible=!1,b;c.unshift({x:d.x-f.x,y:d.y-f.y,width:d.width,height:d.height});c.unshift({x:0,y:0,width:f.width,height:f.height});d=a.ownerDocument;d=d.defaultView||d.parentWindow;if(x===d)break;try{d.parent&&d.parent.document.getElementById,a=d.frameElement}catch(i){x=d;break}}var g,m,j,a={x:0,y:0,width:0,height:0},y=q(d);j={x:0,y:0,width:k-l,height:h-n};"screenX"in d&&"outerWidth"in d&&(g={x:d.screenX-l,y:d.screenY-n,width:d.outerWidth,
height:d.outerHeight});if(y)b.optimize=!0,c.unshift(f={x:y[0]-l,y:y[1]-n,width:f.width,height:f.height}),d===d.top?f=z([j,f]):g?(c[0].x-=g.x,c[0].y-=g.y,c.unshift(g),f=z([j,g])):f=j,!o.isIOS&&!o.isAndroid&&c.unshift(j);else{if(j=r())m=j;else if(s.isActive()&&(!v||11<=o.ieVersion))m=u(d);m?(b.voidSend=!1,b.optimize=!0,c[0].x=-m.x,c[0].y=-m.y,a={x:0,y:0,width:m.width,height:m.height}):(!1===m&&(b.optimize=!0),b.voidSend=!0);c.unshift(a);g&&(f=g)}b.visible&&(c=z(c),c.area=c.width*c.height,b.overlap=
c,b.client=f);return b},getViewData:e,getOverlap:z,safeFrame:r,getScreenXY:q};var x=f.top}})(Adform=window.Adform||{},window,document);
(function(a,f,k){function l(c){this.settings=c;c.ufcEnabled&&(this.ufc={visibility:[2E3,3E3,5E3,1E4,15E3,3E4],exposure:[200,400,600,1E3,2E3,4E3]});var a=c.visibilityArea||50;"object"!=typeof a&&(a=[a]);for(var g=this.counters=[],m=0;m<a.length;m++)g.push(new d(a[m]));g=g[0];this.visibility=g.visibility;this.mouse=g.mouse;this.video=g.video;this.expand=g.expand;this.exposure=g.exposure;this.clicks={length:0};this.flashClicksCount=this.jsClicksCount=0;this.hmClicks=[];this.jsClicks=[];this.flashClicks=
[];this.children=[];this.dimensions=[{width:c.width,height:c.height}];this.bannerProperties={};this.status="NOT VISIBLE";for(var m=0,f;m<b.length;m++)if((f=c[b[m]])&&"undefined"!=f)this[b[m]]=f;this.objectId||(this.objectId="FlashID"+this.id);this.data={visibilityT:0,mouseO:0,activeT:0,exposure:0,visibilityArea:a[0],maxVisibility:0,currentVisibleArea:0};this.hoverDelay=s.singleCall(0);this.hover=s.bind(this,e);this.click=s.bind(this,h);this.hmClick=s.bind(this,n);this._attributes={};this._syncChild=
1<(c.compoundSeqNo||0);this._logger=j(this)}function h(){this.jsClicksCount++;this.updateData()}function n(c,a,b){(c="object"==a.nodeName.toLowerCase()&&s.byTag(a,"embed")[0])&&20<c.offsetHeight&&(a=c);a=s.offset(a);b=s.getMousePos(b);this.hmClicks.push({x:Math.floor(b.pageX-a.left),y:Math.floor(b.pageY-a.top)})}function e(c){this.hoverDelay(this,z,"hoverin"==c)}function z(c){r(this.counters,c?"over":"out");this.updateData()}function r(c,a,b,e,d){for(var f=c.length;f--;)b&&c[f].update(b,e,d),a&&c[f].action(a)}
function q(c){for(var a=o.EngagementTracker().windows,b=0,e=a.length,d,f;b<e;b++)if((f=a[b].document)&&(d=s.byId(c,f)))return d}function j(c){if(this instanceof j){var a=c.data,b=c.settings,e=c.visibility,d=o.EngagementTracker(),f=[],h=[],k=[],l=[],n=[],p=function(){return!0};c._syncChild?k.push(this.make("EngagementTracker","Unload string has not been send for SYNC banner",p,function(){return{compoundSeqNo:b.compoundSeqNo,xId:b.id,version:d.version}})):(f.push(this.make("Unload_total","Banner is registered for in-view tracking",
p)),f.push(this.make("Unload_init","Banner is registered for in-view tracking",function(){return c.ufc||s.isFF||s.isIE||s.isChrome||s.isSafari||s.isOperaWebKit})),f.push(this.make("Unload_sent","Banner is registered for in-view tracking",function(){return!c._syncChild&&!c.doNotSendData&&c.unloadID&&c.bn&&c.object})),h.push(this.make("Unload_loaded","Banner is fully loaded",function(){return c.fullyLoaded})));l.push(this.make("Unload_percent","Unload string has incorrect percent",function(){return(b.visibilityArea||
50)>a.maxVisibility&&e.time>0},function(){return{expected:b.visibilityArea||50,actual:a.maxVisibility,time:e.time}}));n.push(this.make("Unload_oldAd","Old banner detected",function(){return c._oldCompatibility}));this.info={bn:b.bn,iframeSandbox:!d.friendly,browser:s.browser()};this.list={stats:f,loaded:h,sync:k,percent:l,old:n};this.update()}else return new j(c)}var o=a.ET=a.ET||{};if(!o.EngagementItem){var u=a.RMB,s=u&&u.lib,v=u&&u.DOMEvents,x=o.ActiveTab,p=o.Timer,d=o.Counter,w=o.ViewUtil,b="bn,unloadID,cookieID,id,width,height,sendUnloadData".split(",");
o.EngagementItem=l;u=l.prototype;u.attr=function(c,a){var b=this._attributes,e=arguments.length;return 1<e?b[c]=a:e?b[c]:b};u.update=function(){var c=(this._elements||this.elements()).slice(),a=this.fullyLoaded=this.attr("loaded"),b,e=[],d=this.children;if(d.length)for(var f=0;f<d.length;f++)c.push.apply(c,d[f]._elements||d[f].elements(this));if(!this.optimizeLoop||x.isActive())for(f=0;f<c.length;f++)if(d=c[f]){var h="object"==d.nodeName.toLowerCase()&&s.byTag(d,"embed")[0];h&&20<h.offsetHeight&&
(d=h);try{var j=w.inView(d)}catch(k){setTimeout(function(){throw k;},0);return}"voidSend"in j&&(this.doNotSendData=j.voidSend);j.optimize&&(this.optimizeLoop=!0);b||(b=j);j.visible&&e.push(j)}if(a&&x.isActive()&&e.length){b=e[0];for(var d=j=a=c=0,h=b.client.width*b.client.height,f=0,l=e.length;f<l;f++)for(var c=c+e[f].overlap.area,j=j+e[f].area,n=f+1,o;n<l;n++)o=s.overlap(e[f].overlap,e[n].overlap),a+=o.width*o.height,o=s.overlap(e[f],e[n]),d+=o.width*o.height;r(this.counters,null,j-d,c-a,h||0);e=
this.data.currentVisibleArea=this.counters[0].visiblePercent;this.data.maxVisibility=Math.max(this.data.maxVisibility,e)}else r(this.counters,"stop");b&&(this.data.x=Math.floor(b.x),this.data.y=Math.floor(b.y));this.updateData();this._logger.update()};u.elements=function(c){var b=this.settings,g=[],e,d=b.trackElements;if(d){for(var h=!0,j=0;j<d.length;j++){var l=q(d[j]);l?g.push(l):h=!1}if(b=b.trackHeatMap)if(l=q(b))v.on(l,"click",this.hmClick);else h=!1;h&&(this._elements=g)}else{var n="undefined"!==
typeof inDapMgrIf||"undefined"!==typeof inDapIF,h=(n?parent:self).document,j=b.flashID||b.objectId||"FlashID"+this.id,b=b.object?b.object:s.byId(b.holderID||j,h);if(!b&&n&&!a.RMB.DataParser){e=s.byId(j,k);if(k.body.id)j=k.body.id;else{a:{try{var o;if(f===parent)o=!1;else{var p;if(!(p=f.frameElement))b:{try{var r=parent.document.getElementsByTagName("iframe");f._iframe_test_var=Math.random();for(b=0;b<r.length;b++)try{if(r[b].contentWindow._iframe_test_var===f._iframe_test_var){delete f._iframe_test_var;
p=r[b];break b}}catch(u){}}catch(w){}p=void 0}o=p}l=o;break a}catch(x){}l=void 0}l&&l.id&&(j=l.id)}b=s.byId(j,h)}b&&b.nodeType&&g.push(b);if(!b||b.id!=j)b=s.byId(j,h),g.push(b);g[0]&&(this._oldCompatibility=!0)}this.object=g[0];for(j=0;j<g.length;j++)if(l=g[j])if(v.on(l,"hover",(c||this).hover),v.on(l,"click",(c||this).click),!d)v.on(e||l,"click",this.hmClick);return g};u.flashClick=function(c,b){this.flashClicksCount++;this.flashClicks.push({x:parseInt(c,10),y:parseInt(b,10)});this.updateData()};
u.engage=function(c){r(this.counters,c)};u.updateData=function(){var c=this.data,b=this.visibility.update();this.status=b.active?"VISIBLE":"NOT VISIBLE";c.visibilityT=b.time;b=this.mouse.update();c.activeT=b.time;c.mouseO=b.count;c.exposure=this.exposure.update().exposure;this.clicks.length=Math.max(this.jsClicksCount,this.flashClicksCount)};u.checkUFC=function(){var c=this.ufc;if(c){for(var b=this.visibility.update().time,a=c.visibility,e=a.length;a.length&&b>=a[0];)a.shift();for(var b=this.exposure.update().exposure,
c=c.exposure,d=c.length;c.length&&b>=c[0];)c.shift();!e&&!d&&(this.ufc=null);return a.length<e||c.length<d}};u.toUnloadString=function(b){if(!this._syncChild&&!this.doNotSendData&&this.unloadID&&this.bn&&this.object&&this.sendUnloadData){for(var a=this.data,g=this.visibility.update(),e=this.mouse.update(),d=this.video.update(),f=this.expand.update(),h=this.exposure.update(),j=this.settings,k=this.hmClicks.length?this.hmClicks:this.flashClicks,l=[],n=0,q=k.length;n<q;n++)l.push((0<k[n].x?k[n].x:0)+
":"+(0<k[n].y?k[n].y:0));k=p.calculateEngagement;d=[d];f=[f];q=this.children;for(n=0;n<q.length;n++)d.push(q[n].video.update()),f.push(q[n].expand.update());n=k.apply(p,d);q=k.apply(p,f);k=k.apply(p,[e].concat(d,f));d=this.counters;a=[a.maxVisibility,g.time,e.count,a.x,a.y,e.time,n,k,q,l.join(";"),h.exposure,o.EngagementTracker().friendly?0:1,j.rtbInventorySourceId||"",j.rtbReqId||"",d[1]?d[1].visibility.update().time:"",d[2]?d[2].visibility.update().time:""];g=this.bn+","+this.unloadID+",";e=g+a.join("|");
b=o.EngagementTracker().queryLimit-(b||100);if(e.length>b){for(var e=0,h=l.length,r;e<h;)a[9]=l.slice(0,r=e+h>>1).join(";"),(g+a.join("|")).length>b?h=r:e=r+1;a[9]=l.slice(0,r).join(";");e=g+a.join("|")}return e}};u.addChild=function(b){this.dimensions.push({width:b.width,height:b.height});this.children.push(b);b._attributes=this._attributes};u.destroy=function(){this._elements=this.object=null};u=j.prototype;u.update=function(){if(a.Log){var b=this.list,e=this.info,g,d;for(g in b){for(;b[g]&&b[g].length&&
b[g][0].condition();)d=b[g].shift(),d.info&&(e=s.extend(e,d.info())),a.Log.pushMessage([d.title],d.message,e);(!b[g]||!b[g].length)&&delete b[g]}}};u.make=function(b,a,e,d){return{title:b,message:a,condition:e,info:d}}}})(Adform=window.Adform||{},window,document);
(function(a,f){function k(){var b=this;if(k._instance)return k._instance;if(!(b instanceof k))return new k;k._instance=a.ADFEventsInstance=b;b.maxTime=6E5;b.items=b.events={};b.version=13;b.windows=[];b.byBN={};b._items={};b.startTime=p();b.friendly=!1;try{top.document.getElementById,b.friendly=!0}catch(c){}b.queryLimit=2E3;b.update=o.bind(b,z);b.optimized=o.bind(b,q);o.addEvent(f,"unload",function(){b.send();b.destroy()});setTimeout(o.bind(b,n),54E4);b.setupWindow(f);try{parent!=self&&parent.document.getElementById&&
b.setupWindow(parent)}catch(e){}try{f.MESSENGER_POPUP&&b.setupWindow(MESSENGER_POPUP)}catch(d){}b.registerAll();b.registerInEvents()}function l(){var b=e();if(b)for(var a in b)this.register(b[a])}function h(b){var a=e();a&&(b=this.register(a[b]))&&b.update()}function n(){p()-this.startTime<=this.maxTime&&(o.isFF||o.isIE||o.isChrome||o.isSafari||o.isOperaWebKit)&&this.sendQuery(this.query())}function e(){var b=a.ADFUtilInstance;return b&&b.banners}function z(){v.update();var b=[],a=this.items,e;for(e in a){var d=
a[e];d.update&&(d.update(),d.checkUFC()&&b.push(d))}b.length&&this.sendQuery(this.query(b,"&ufc=1"));this.emit("update")}function r(b,a){var e=this._items[b];if(e){var a=","+a+",",d=w,f;for(f in d)d[f]&&~d[f].indexOf(a)&&e.engage(f)}}function q(){var b=p();100<b-d&&(d=b,this.update())}if(!a.ADFEvents){var j=a.RMB,o=j&&j.lib||a.lib,u=j&&j.DOMEvents,s=a.ET,v=s.ActiveTab,x=s.EngagementItem,p=Date.now||function(){return+new Date};o.inherit(k,j.EventEmitter);s.EngagementTracker=k.getInstance=a.ADFEvents=
k;var d=0,w={expand:[21,22],collapse:[143],videoPlay:[30],videoStop:[31,32,29,21,22,23,143]},j=k.prototype;j.subscribe=function(b){this.on("update",b)};j.unsubscribe=function(b){this.off("update",b)};j.getItem=function(b){var a=this._items;if(a&&(a=a[b]))return this.byBN[a.bn]||a};j.registerAll=l;j.registerAllBanners=l;j.register=function(b){if(b&&!this._items[b.id]&&1==b.registered){var a=this._items[b.id]=new x(b);this.byBN[b.bn]?this.byBN[b.bn].addChild(a):(this.byBN[b.bn]=this.items[b.id]=a,a.update());
this.cookieID||(this.cookieID=a.cookieID)}return this._items[b.id]};j.addObjectEvents=h;j.addStandardEvent=h;j.checkVisibility=function(a){a&&a.update&&a.update()};j.registerBannerProperties=function(){};j.addClick=function(a,c,d){(a=this.items[a])&&a.flashClick&&a.flashClick(c,d)};j.registerInEvents=function(){var b=a.Events;if(b&&b.registerCallback){var c=w,d;for(d in c)c[d].join&&(c[d]=","+c[d].join(",")+",");b.registerCallback(r,this)}};j.query=function(a,c){var d=["version="+this.version+(c||
"")+"&unload="+this.cookieID],e,f,a=a||this.items,h;for(h in a)if((e=a[h])&&e.toUnloadString)(f=e.toUnloadString())&&d.push(f);if(1<d.length)return d.join("@@")};j.send=n;j.sendQuery=function(b){if(b){var b=a.host+"/serving/unload/?"+b,c=this.queryLimit;if(b.length>c){for(var b=b.split("@@"),d=b.shift(),e=d+"@@"+b[0],f=1;f<b.length;f++)(e+"@@"+b[f]).length>c&&((new Image).src=e,e=d),e+="@@"+b[f];(new Image).src=e}else(new Image).src=b}};j.addElement=function(a,c,d){if(a=this._items[a]){d&&this.setupWindow(d);
var d=a.settings.trackElements,e=d.length;d.push.apply(d,c);a._elements=null;a.update();d.length=e;a._elements=null}};j.removeElement=function(a,c,d){if(this._items&&(a=this._items[a])&&d)this.removeWindow(d),a._elements=null};j.setupWindow=function(a){for(var c=this.windows,d=0;d<c.length;d++)if(c[d]==a)return;try{var e=a.document;c.push(a);var f=this.update,h=this.optimized,j=o.addEvent;j(a,"resize",f);j(a,"load",f);j(a,"scroll",h);j(e,"mousemove",h);j(e,"mousedown",h);j(e,"mouseup",h);this._winInterval||
(this._winInterval=setInterval(h,100))}catch(k){}};j.removeWindow=function(a){try{var c=a.document,d=this.update,e=this.optimized,f=o.removeEvent;f(a,"resize",d);f(a,"load",d);f(a,"scroll",e);f(c,"mousemove",e);f(c,"mousedown",e);f(c,"mouseup",e);u.destroy(c)}catch(h){}c=this.windows;for(d=c.length;d--;)if(c[d]==a){c.splice(d,1);break}};j.destroy=function(){this.emit("destroy");for(var a=this.windows,c=a.length;c--;)this.removeWindow(a[c]);this.windows=[];clearInterval(this._winInterval);a=f;do try{a.__flash_visibility&&
a.__flash_visibility.destroy()}catch(d){break}while(a!=a.top&&(a=a.parent));a=this._items;for(c in a)a[c]&&a[c].destroy&&a[c].destroy();v.destroy();u.destroy();this._items=this.items=this.events=this.byBN=null};a._etCallback?a._etCallback(k()):k()}})(Adform=window.Adform||{},window,document);